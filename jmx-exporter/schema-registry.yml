startDelaySeconds: 0
lowercaseOutputName: true
lowercaseOutputLabelNames: true

rules:
  # Jersey metrics (Confluent Schema Registry uses Jersey)
  - pattern: 'kafka\.schema\.registry<type=jersey-metrics><>request-total'
    name: schema_registry_request_total
    type: COUNTER

  - pattern: 'kafka\.schema\.registry<type=jersey-metrics><>request-error-total'
    name: schema_registry_request_error_total
    type: COUNTER

  - pattern: 'kafka\.schema\.registry<type=jersey-metrics><>request-latency-avg'
    name: schema_registry_request_latency_avg
    type: GAUGE

  - pattern: 'kafka\.schema\.registry<type=jersey-metrics><>request-latency-max'
    name: schema_registry_request_latency_max
    type: GAUGE

  # Master election
  - pattern: 'kafka\.schema\.registry<type=master-slave-role><>master-slave-role'
    name: schema_registry_is_master
    type: GAUGE

  # Generic registry metrics
  - pattern: 'kafka\.schema\.registry<type=([^,]+)><>([^:]+)'
    name: schema_registry_$1_$2
    type: UNTYPED
